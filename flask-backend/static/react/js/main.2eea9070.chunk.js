(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},161:function(e,t,a){e.exports=a(313)},226:function(e,t){},228:function(e,t){},261:function(e,t){},262:function(e,t){},308:function(e,t){},309:function(e,t){},310:function(e,t){},312:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);a(162);var n=a(1),r=a.n(n),l=a(152),c=a.n(l),o=a(16),i=a.n(o),u=a(35),s=a(20),d=a(21),h=a(24),p=a(22),m=a(25),f=a(70),b=a(23),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).loadTable=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then(function(e){return e.json()}).then(function(e){a.setState({gTable:e})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:null,load:!1,gTable:{}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadTable("https://flaskreactdb.firebaseio.com/geochart.json");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({data:e.value,load:!0})}},{key:"render",value:function(){var e,t=[["Country","Popularity"]];if(!0===this.state.load)for(var a=this.state.data,n=0;n<a.length;n++){var l=Math.round(100*a[n]),c=[this.state.gTable[n],l];l>1&&t.push(c)}return e=r.a.createElement(f.a,{chartType:"GeoChart",width:"100%",height:"5%",data:t,options:{colorAxis:{colors:["white","green"]},backgroundColor:"#00a0ff",legend:"none"}}),r.a.createElement("div",null,e)}}]),t}(r.a.Component),E=Object(b.b)(function(e){return{value:e.addReducer.list}})(v),O=a(71),g=a(318),k=a(159),y=a(319),j=a(156),C=a.n(j);a(222);C.a.initializeApp({apiKey:"AIzaSyD4qGgS2_mfD6-6NhrJDivCty8JG10J91c",authDomain:"flaskreactdb.firebaseapp.com",databaseURL:"https://flaskreactdb.firebaseio.com",projectId:"flaskreactdb",storageBucket:"flaskreactdb.appspot.com",messagingSenderId:"406809941570"});var x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={inputTextData:""},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state)},a.handleClear=function(e){e.preventDefault(),a.setState({inputTextData:""})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{onSubmit:this.handleSubmit,onReset:this.handleClear},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Label,null,"Input ingredient list"),r.a.createElement(g.a.Control,{as:"textarea",required:!0,variant:"dark",value:this.state.inputTextData,onChange:this.handleChange,name:"inputTextData"}),r.a.createElement(g.a.Control.Feedback,{type:"invalid"},"Please provide a valid input.")),r.a.createElement("br",null),r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Group,{as:k.a},r.a.createElement(y.a,{variant:"dark",type:"submit"}," \ub4f1 \ub85d ")),r.a.createElement(g.a.Group,{as:k.a},r.a.createElement(y.a,{variant:"danger",type:"reset"}," \ucde8 \uc18c "))))}}]),t}(r.a.Component),w=(a(115),a(314)),D=["Brazil","United Kingdom","United States of America","China","Philippines","France","Greece","India","Ireland","Italy","Jamaica","Japan","Korea (Republic of)","Mexico","Morocco","Russia","United States of America","Spain","Thailand","VietNam"],S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={data:null,load:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({data:e.value,load:!0})}},{key:"render",value:function(){var e=[["Country","Popularity"]],t="",a=[];if(!0===this.state.load){for(var n=this.state.data,l=0;l<n.length;l+=1){var c=100*n[l],o=[D[l],c];if(c>1&&e.push(o),l%2===0){var i=r.a.createElement("tr",null,r.a.createElement("td",null,D[l]),r.a.createElement("td",null,Math.round(100*n[l]),"%"),r.a.createElement("td",null,D[l+1]),r.a.createElement("td",null,Math.round(100*n[l+1]),"%"));a.push(i)}}t=r.a.createElement("div",null,r.a.createElement(f.a,{width:"100%",height:"1%",chartType:"ColumnChart",data:e,options:{chartArea:{width:"100%"},colors:["00a0ff"],hAxis:{minValue:0,textStyle:{fontSize:12}},bar:{groupWidth:"50%"},legend:{position:"none"}}}),r.a.createElement("br",null),r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Probabilty"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Probability"))),r.a.createElement("tbody",null,a)))}return r.a.createElement("div",null,t)}}]),t}(n.Component),M=Object(b.b)(function(e){return{value:e.addReducer.list}})(S),T=a(315),R=a(103),B="addReducer/ADDER",A="adderReducer/ADDER2",I={list:[],list2:[!1,!1,!1],change:0};var P=a(73),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChecked=function(e){console.log("SelectModel Checked");var t=a.state.select,n=t;!1===t[e.target.id]?n[e.target.id]=!0:n[e.target.id]=!1,(0,a.props.adder2)(Object(P.a)(n)),a.setState({select:n}),console.log("redux dispath > change state : ",a.state.select)},a.state={select:a.props.value2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",null,"Select Models"),r.a.createElement(T.a,null,r.a.createElement(T.a.Prepend,null,r.a.createElement(y.a,null,"BOW MODEL"),r.a.createElement(T.a.Checkbox,{onChange:this.handleChecked,checked:this.state.select[0],id:0,name:"Mother"})),r.a.createElement(T.a.Prepend,null,r.a.createElement(y.a,null,"CBOW MODEL"),r.a.createElement(T.a.Checkbox,{onChange:this.handleChecked,checked:this.state.select[1],id:1,name:"Father"})),r.a.createElement(T.a.Prepend,null,r.a.createElement(y.a,null,"EMBEDDING MODEL"),r.a.createElement(T.a.Checkbox,{onChange:this.handleChecked,checked:this.state.select[2],id:2,name:"Son"}))))}}]),t}(r.a.Component),G=Object(b.b)(function(e){return{value2:e.addReducer.list2}},function(e){return{adder2:function(t){return e({type:A,list2:t})}}})(_),L=a(28),N=a(160),J=a.n(N),U=a(316),z=a(317),W=["https://54.180.91.80:443/model2","http://54.180.91.80:80/model","http://54.180.91.80:80/model"],F=[1,30],X=3065,V=[1,X],K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).loadModels=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t)){e.next=10;break}return e.next=5,L.a(W[n]);case 5:r=e.sent,a.push(r);case 7:n++,e.next=2;break;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.classify=function(e,t){return L.d(function(){return t.predictOnBatch(e)}).dataSync()},a.backofwordModels=function(e){for(var t=new Array(X).fill(0),n=0;n<e.length;n++)t[e[n]]=1;var r=L.b(L.c(t),V);return a.classify(r,a.state.models[0])},a.continuousBOGModels=function(e){var t=L.b(L.c(e).pad([[F[1]-e.length,0]]),F);return a.classify(t,a.state.models[1])},a.embeddingModels=function(e){var t=L.b(L.c(e).pad([[F[1]-e.length,0]]),F);return a.classify(t,a.state.models[2])},a.ensembleMean=function(e){for(var t=e[0].length,a=e.length,n=new Array(20).fill(0),r=0;r<t;r++){for(var l=0;l<a;l++)n[r]+=e[l][r];n[r]/=a}return n},a.inputFormCallBack=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r,l,c,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==a.state.checkbox[0]||!1!==a.state.checkbox[1]||!1!==a.state.checkbox[2]){e.next=3;break}return alert("\ubaa8\ub378\uc740 \uc801\uc5b4\ub3c4 \ud558\ub098\ub294 \uc120\ud0dd \ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 3:return a.setState({inputText:"\tClassification Result\t:\t"+t.inputTextData+"\t"}),console.log(a.state.checkbox[0],a.state.checkbox[1],a.state.checkbox[2]),e.next=7,fetch("http://54.180.91.80/getData",{method:"POST",body:[t.inputTextData]}).then(function(e){return e.json()}).then(function(e){return e[0]});case 7:n=e.sent,r=[],!0===a.state.checkbox[0]&&(l=a.backofwordModels(n),r.push(l),console.log("BOG",l)),!0===a.state.checkbox[1]&&(c=a.continuousBOGModels(n),r.push(c),console.log("CBOG",c)),!0===a.state.checkbox[2]&&(o=a.embeddingModels(n),r.push(o),console.log("EMB",o)),u=a.ensembleMean(r),console.log(u),(0,a.props.adder)(u);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={models:[],inputText:"",loading:!1,prediction:a.props.value,checkbox:a.props.value2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadModels(3);case 2:t=e.sent,this.setState({models:t,loading:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return console.log("REDUX STORE UPDATED >> ",Object(P.a)(this.props.value2).toJS()),e=!1===this.state.loading?r.a.createElement("container",{class:"centered"},r.a.createElement(J.a,{size:120,spinnerColor:"blue",spinnerWidth:2}),r.a.createElement("p",null,"LOADING MODEL")):r.a.createElement("div",null,r.a.createElement("p",null,this.props.value2),r.a.createElement(U.a,null,r.a.createElement(z.a,null,r.a.createElement("h1",null,"Hit Country Classification System Based On Ingredient-Cuisine Dataset")),r.a.createElement(y.a,{variant:"primary",size:"lg",block:!0,className:""===this.state.inputText?"hidden":" "},this.state.inputText),r.a.createElement(E,null),r.a.createElement(M,null),r.a.createElement("br",null),r.a.createElement(G,null),r.a.createElement("br",null),r.a.createElement(x,{onCreate:this.inputFormCallBack}))),r.a.createElement("div",null,e)}}]),t}(n.Component),q=Object(b.b)(function(e){return{value:e.addReducer.list,value2:e.addReducer.list2}},function(e){return{adder:function(t){return e({type:B,list:t})}}})(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(312);var H=a(41),$=Object(H.b)({addReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(R.a)({},e,{list:t.list});case A:return Object(R.a)({},e,{list2:t.list2,change:e.change+1});default:return e}}}),Q=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Y=Object(H.c)($,Q);c.a.render(r.a.createElement(b.a,{store:Y},r.a.createElement(q,null)),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.2eea9070.chunk.js.map